<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>06_箭头函数</title>

</head>
<body>
    <button id="btn1">测试箭头函数this_1</button>
    <button id="btn2">测试箭头函数this_2</button>


<!--
* 作用: 定义匿名函数
* 基本语法:
  * 没有参数: () => console.log('xxxx')
  * 一个参数: i => i+2
  * 大于一个参数: (i,j) => i+j
  * 函数体不用大括号: 默认返回结果
  * 函数体如果有多个语句, 需要用{}包围，若有需要返回的内容，需要手动返回
* 使用场景: 多用来定义回调函数

普通函数中的this:

1. this总是代表它的直接调用者, 例如 obj.func ,那么func中的this就是obj

2.在默认情况(非严格模式下,未使用 'use strict'),没找到直接调用者,则this指的是 window

3.在严格模式下,没有直接调用者的函数中的this是 undefined

4.使用call,apply,bind(ES5新增)绑定的,this指的是 绑定的对象

箭头函数中的this

默认指向在定义它时,它所处的对象,而不是执行时的对象, 定义它的时候,可能环境是window（即继承父级的this）;

* 箭头函数的特点：
    1、简洁
    2、箭头函数没有自己的this，箭头函数的this不是调用的时候决定的，而是在定义的时候处在的对象就是它的this
    3、扩展理解： 箭头函数的this看外层的是否有函数，
        如果有，外层函数的this就是内部箭头函数的this，
        如果没有，则this是window。
-->
<script type="text/javascript">

    let fun = function(){

    }

    let fun1 = () => console.log('我是箭头函数');
    fun1();

    let fun2 = a => console.log(a);
    fun2('aaa');

    let fun3 = (x,y) => console.log(x,y);
    fun3(25,36);

    let fun4 = (x,y) => {return x + y;}
    console.log(fun4(24,36));

    let fun5 = (x,y) => x + y;
    console.log(fun5(24,36));

    let fun6 = (x,y) => {
        console.log(x,y);
        return x + y;
    }
    console.log(fun6(35,49));

    let btn1 = document.getElementById('btn1');
    let btn2 = document.getElementById('btn2');

    btn1.onclick = function () {
        console.log(this);
    }



    let obj = {
        name : '箭头函数',
        getName : () => {
            btn2.onclick =  () => {
                console.log(this);
            }
        }
    }

    obj.getName();

</script>

</body>
</html>